<%= header %>
<%= boomerangDelayedSnippet %>

<script src="../../vendor/angular/angular.js"></script>
<script src="../../vendor/angular-resource/angular-resource.js"></script>
<script src="../../vendor/angular-route/angular-route.js"></script>
<script>
/*global angular*/
document.addEventListener("DOMContentLoaded", function() {
	angular.bootstrap(document, ["app"]);
});
</script>
<div ng-view></div>
<script src="/test-templates/spa/25-delayed-boomerang-pre-config-snippet.js" type="text/javascript"></script>
<script src="25-delayed-boomerang-pre-config-snippet.js" type="text/javascript"></script>
<script type="text/javascript">
// force some beacons to be sent right before the spa_hard beacon would send
BOOMR = BOOMR || {};
BOOMR.xhr = {
	stop: function(callback) {
		callback({
			timing: {
				startTime: 1,
				requestStart: 5,
				responseEnd: 10
			},
			url: "http://foo.com/xhr/"
		});
	}
};

BOOMR_test.init({
	testAfterOnBeacon: 2,
	Angular: {
		enabled: true
	},
	AutoXHR: {
		alwaysSendXhr: true
	},
	instrument_xhr: true,
	autorun: false
});
</script>
<script src="support/app.js"></script>

<%= footer %>
