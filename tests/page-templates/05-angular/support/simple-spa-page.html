<!DOCTYPE html>
<!--[if IE 8]>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 1.0 Transitional//EN" "http://www.w3.org/TR/html1/DTD/html1-transitional.dtd">
<![endif]-->
<html>
<head>
	<!--[if IE 8]>
	<meta http-equiv="X-UA-Compatible" content="EmulateIE8">
	<![endif]-->
	<title>Boomerang Test - Simple Testing SPA App</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script type="text/javascript">
	// Clear localstorage
	if (typeof window.localStorage === "object" && typeof window.localStorage.clear === "function") {
		window.localStorage.clear();
	}
	// Set RT Cookie to empty, preventing navigation related issues with session tests
	document.cookie = "RT=\"\";domain=.<%= mainServer %>;path=/";
	// Prevent Boomerang from setting a cookie on unload so as to prevent cookies to show up when we load the next E2E test
	window.addEventListener("beforeunload", function(e) {
		if (BOOMR) {
			BOOMR.disable();
		}

		e.preventDefault();
	});

	</script>
	<script src="../../../vendor/mocha/mocha.js"></script>
	<script src="../../../vendor/assertive-chai/dist/assertive-chai.js"></script>
	<script src="../../../vendor/lodash/lodash.js"></script>
	<script src="../../../boomerang-test-framework.js" type="text/javascript"></script>
	<script src="../../../build/boomerang-latest-debug.js" type="text/javascript"></script>
	<script src="../../../vendor/angular/angular.js"></script>
	<script src="../../../vendor/angular-resource/angular-resource.js"></script>
	<script src="../../../vendor/angular-route/angular-route.js"></script>
	<script src="app.js"></script>
	</head>
<body>
	<div ng-view></div>

	<script type="text/javascript">
	document.addEventListener("DOMContentLoaded", function() {
		angular.bootstrap(document, ["app"]);
	});
	window.angular_imgs = [3000];
	BOOMR_test.init({
		site_domain: "boomerang-test.local",
		Angular: {
			enabled: true
		},
		IFrameDelay: {
			enabled: true,
			registerParent: true
		},
		instrument_xhr: true,
		autorun: false
	});
	</script>
</body>
</html>
