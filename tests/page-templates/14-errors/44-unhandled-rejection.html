<%= header %>
<%= boomerangScript %>
<script src="44-unhandled-rejection.js" type="text/javascript"></script>
<script>
BOOMR_test.init({
  testAfterOnBeacon: true,
  Errors: {
    enabled: true,
    monitorRejections: true,

    // turn off global so it doesn't get in the way
    monitorGlobal: false
  }
});

if (window.Promise && window.PromiseRejectionEvent) {
  var p1 = new Promise(function func1(resolve, reject) {
    throw "error string";
  });

  var p1 = new Promise(function func2(resolve, reject) {
    throw new Error("error object");
  });

  var p1 = new Promise(function(resolve, reject) {
    reject();
  });

  var p1 = new Promise(function(resolve, reject) {
    reject("reject string");
  });

  var p2 = new Promise(function(resolve, reject) {
    var b = a;
  });

  var p3 = new Promise(function(resolve, reject) {
    reject({"a": 1});
  });
}

</script>
<!-- delay the page by 1second so an error can fire -->
<img src="/delay?delay=1000&amp;file=/assets/img.jpg" style="width: 100px" />
<%= footer %>
